align_asm_to_ref:
  # This config specifies the assemblies in `tbl`
  config: "test/config/asm_to_ref_config.yaml"
  # Reference in asm_to_ref_config.yaml
  ref_key: "t2t_chm13_v2.0"
  asat_annotations: "data/annotations/chm13_v2.0_hor_arrays.bed"
  cens_500kbp_regions: "data/annotations/chm13_v2.0_cenSat_Annotations_HORs.maxmin.500kbp.bed"
  # Output dir set to results

concat_asm:
  input_dir: "test/data/assemblies"
  output_dir: "data/assemblies/combined"

extract_ref_hor_arrays:
  output_dir: "results/masked"

ident_cen_ctgs:
  comb_assemblies_dir: "data/assemblies/combined"
  output_dir: "results/cens"

dna_brnn:
  output_dir: "results/dna_brnn"
  # https://github.com/lh3/dna-nn/tree/master/models
  model: "data/models/attcc-alpha.knm"
  # File with dna-brnn run on t2t-chm13 ref. Avoids running rule to generate.
  # Optional.
  ref_alr_file: "data/annotations/chm13_cens.trimmed.bed"
  threads: 12
  repeat_len_thr:
    chr9: [[9_000, 10_000], [1_000_000, null]]
    chr10: [[2_000, null]]
    chr16: [[1_000_000, null]]
  default_repeat_len_thr: [1_000, null]

new_cens:
  output_dir: "results/cens_new"

nuc_freq:
  hifi_reads_dir: "test/data/raw_data/hifi"
  output_dir: "results/dna_brnn/nucfreq"
  config_nucfreq: "config/nucfreq.toml"
  ignore_regions: "config/nucfreq_ignore.bed"
  threads_aln: 4
  processes_nucfreq: 12
  samtools_view_flag: 2308

repeatmasker:
  ref_repeatmasker_output: data/annotations/chm13_chm1_cens_v21.trimmed.fa.noheader.out
  ref_repeatmasker_chrY_output: data/annotations/cenSat_Annotations_HORs.maxmin.v2.0.chrY.500kbp.fa.out
  threads: 40
  output_dir: "results/repeatmasker"


repeatmasker_sat_annot:
  output_dir: "results/repeatmasker_sat_annot"
  # Parse lines in RepeatMasker output and turn to bed file with colors.
  repeat_name_pattern_replacement:
    "asat":
      pattern: "ALR"
      color: "244,219,112"
    "bsat":
      pattern: "BSR"
      color: "213,177,206"
    "gsat":
      pattern: "GSAT"
      color: "133,117,170"
    "hsat1A":
      pattern: "SAR"
      color: "70,150,139"
    "hsat2":
      pattern: "HSATII\\b"
      color: "49,53,100"
    "hsat1B":
      pattern: "HSATI\\b"
      color: "70,150,139"
    "hsat3":
      pattern: "(CATTC)n\\|(GAATG)n"
      color: "127,159,184"
  ct_track_color: "209,211,212"


humas_hmmer:
  input_dir: "data/chr_cens"
  output_dir: "output/"
  # NOTE: If providing 150 cores and num_threads=30, a max of 5 are run concurrently.
  threads: 30
  model: "workflow/scripts/HumAS-HMMER_for_AnVIL/AS-HORs-hmmer3.3.2-120124.hmm"

plot_hor_stv:
  output_dir: "test/results/hor_stv"
  chm1_stv: "data/annotations/AS-HOR-vs-chm1_cens_v21.stv_row.all.bed"
  chm13_stv: "data/annotations/AS-HOR-vs-chm13_cens_v18.correctcoords.stv_row.all.bed"
  # Reorder data to put 'large'-r or 'small'-r -mers on top.
  # Specifying both creates both plots.
  mer_order:
    - small
    - large

stained_glass:
  input_dir: null
  threads: 10
  window: 5000
  mm_f: 5000
  # Always will be in workflow/scripts/StainedGlass/results
