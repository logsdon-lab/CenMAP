align_asm_to_ref:
  # This config specifies the assemblies in `tbl`
  config: "config/asm_to_ref_config.yaml"
  # Reference in asm_to_ref_config.yaml
  ref_key: "t2t_chm13_v2.0"
  asat_annotations: "data/annotations/chm13_v2.0_hor_arrays.bed"
  cens_500kbp_regions: "data/annotations/chm13_v2.0_cenSat_Annotations_HORs.maxmin.500kbp.bed"
  # Output dir set to results

concat_asm:
  # Expects {input_dir}/{sm}/{sm}.vrk-ps-sseq.asm-{typ}.fasta.gz
  input_dir: "data/assemblies"
  output_dir: "data/assemblies/combined"
  # {asm}.vrk-ps-sseq.asm-{type}.fasta.gz
  types:
    - mito
    - rdna
    - disconnected
    - ebv
    - hap1
    - hap2
    - unassigned
    - contaminants

mask_hor_arrays:
  output_dir: "results/masked"

ident_cen_ctgs:
  comb_assemblies_dir: "data/assemblies/combined"
  output_dir: "results/cens"

dna_brnn:
  output_dir: "results/dna_brnn"
  # https://github.com/lh3/dna-nn/tree/master/models
  model: "data/models/attcc-alpha.knm"
  # File with dna-brnn run on t2t-chm13 ref. Avoids running rule to generate.
  # Optional.
  ref_alr_file: "data/annotations/chm13_cens.trimmed.bed"

nuc_freq:
  hifi_reads_dir: "data/raw_data/hifi"
  output_dir: "results/dna_brnn/nucfreq"
  threads: 4
  samtools_view_flag: 2308


repeatmasker:
  # Json map of paths to correct samples according to nuc_freq.
  # {"HG00731": "HG00731_correct_ALR_regions.500kbp.fa"}
  correct_samples: "config/correct_samples.json"
  # /net/eichler/vol27/projects/AlphaSatelliteMapping/nobackups/FindingAlphaSat/t2t_chr8/chm13/centromeres/repeatmasker/cenSat_Annotations_HORs.maxmin.v2.0.chrY.500kbp.fa.out
  censat_annot_hor_output: data/cenSat_Annotations_HORs.maxmin.v2.0.chrY.500kbp.fa.out
  num_threads: 40
  output_dir: "results/repeatmasker"

humas_hmmer:
  input_dir: "data/chr_cens"
  output_dir: "output/"
  # NOTE: If providing 150 cores and num_threads=30, a max of 5 are run concurrently.
  num_threads: 30
  model: "data/AS-HORs-hmmer3.0-170921.hmm"
  # # {"AS-HOR": hmmer-run.sh, "SF": hmmer-run_SF.sh}
  mode: "AS-HOR"
